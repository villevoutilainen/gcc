/* AArch64 SIMD pragma builtins
   Copyright (C) 2024 Free Software Foundation, Inc.
   Contributed by ARM Ltd.

   This file is part of GCC.

   GCC is free software; you can redistribute it and/or modify it
   under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 3, or (at your option)
   any later version.

   GCC is distributed in the hope that it will be useful, but
   WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
   General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with GCC; see the file COPYING3.  If not see
   <http://www.gnu.org/licenses/>.  */

#undef ENTRY_BINARY
#define ENTRY_BINARY(N, T0, T1, T2, U, F)	\
  ENTRY (N, binary, T0, T1, T2, U, F)

#undef ENTRY_BINARY_LANE
#define ENTRY_BINARY_LANE(N, T0, T1, T2, U, F)	\
  ENTRY (N, binary_lane, T0, T1, T2, U, F)

#undef ENTRY_BINARY_VHSDF
#define ENTRY_BINARY_VHSDF(NAME, UNSPEC, FLAGS)			\
  ENTRY_BINARY (NAME##_f16, f16, f16, f16, UNSPEC, FLAGS)	\
  ENTRY_BINARY (NAME##q_f16, f16q, f16q, f16q, UNSPEC, FLAGS)	\
  ENTRY_BINARY (NAME##_f32, f32, f32, f32, UNSPEC, FLAGS)	\
  ENTRY_BINARY (NAME##q_f32, f32q, f32q, f32q, UNSPEC, FLAGS)	\
  ENTRY_BINARY (NAME##q_f64, f64q, f64q, f64q, UNSPEC, FLAGS)

#undef ENTRY_TERNARY_VLUT8
#define ENTRY_TERNARY_VLUT8(T)					\
  ENTRY_BINARY_LANE (vluti2_lane_##T##8, T##8q, T##8, u8,	\
		     UNSPEC_LUTI2, QUIET)			\
  ENTRY_BINARY_LANE (vluti2_laneq_##T##8, T##8q, T##8, u8q,	\
		     UNSPEC_LUTI2, QUIET)			\
  ENTRY_BINARY_LANE (vluti2q_lane_##T##8, T##8q, T##8q, u8,	\
		     UNSPEC_LUTI2, QUIET)			\
  ENTRY_BINARY_LANE (vluti2q_laneq_##T##8, T##8q, T##8q, u8q,	\
		     UNSPEC_LUTI2, QUIET)			\
  ENTRY_BINARY_LANE (vluti4q_lane_##T##8, T##8q, T##8q, u8,	\
		     UNSPEC_LUTI4, QUIET)			\
  ENTRY_BINARY_LANE (vluti4q_laneq_##T##8, T##8q, T##8q, u8q,	\
		     UNSPEC_LUTI4, QUIET)

#undef ENTRY_TERNARY_VLUT16
#define ENTRY_TERNARY_VLUT16(T)						\
  ENTRY_BINARY_LANE (vluti2_lane_##T##16, T##16q, T##16, u8,		\
		     UNSPEC_LUTI2, QUIET)				\
  ENTRY_BINARY_LANE (vluti2_laneq_##T##16, T##16q, T##16, u8q,		\
		     UNSPEC_LUTI2, QUIET)				\
  ENTRY_BINARY_LANE (vluti2q_lane_##T##16, T##16q, T##16q, u8,		\
		     UNSPEC_LUTI2, QUIET)				\
  ENTRY_BINARY_LANE (vluti2q_laneq_##T##16, T##16q, T##16q, u8q,	\
		     UNSPEC_LUTI2, QUIET)				\
  ENTRY_BINARY_LANE (vluti4q_lane_##T##16_x2, T##16q, T##16qx2, u8,	\
		     UNSPEC_LUTI4, QUIET)				\
  ENTRY_BINARY_LANE (vluti4q_laneq_##T##16_x2, T##16q, T##16qx2, u8q,	\
		     UNSPEC_LUTI4, QUIET)

// faminmax
#define REQUIRED_EXTENSIONS nonstreaming_only (AARCH64_FL_FAMINMAX)
ENTRY_BINARY_VHSDF (vamax, UNSPEC_FAMAX, FP)
ENTRY_BINARY_VHSDF (vamin, UNSPEC_FAMIN, FP)
#undef REQUIRED_EXTENSIONS

// lut
#define REQUIRED_EXTENSIONS nonstreaming_only (AARCH64_FL_LUT)
ENTRY_TERNARY_VLUT8 (p)
ENTRY_TERNARY_VLUT8 (s)
ENTRY_TERNARY_VLUT8 (u)

ENTRY_TERNARY_VLUT16 (bf)
ENTRY_TERNARY_VLUT16 (f)
ENTRY_TERNARY_VLUT16 (p)
ENTRY_TERNARY_VLUT16 (s)
ENTRY_TERNARY_VLUT16 (u)
#undef REQUIRED_EXTENSIONS
